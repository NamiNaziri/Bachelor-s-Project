\chapter{مقدمه}






پویانمایی هنر جان‌بخشیدن به اجسام بدون جان است.
والت دیزنی درباره‌‌ی پویانمایی می‌گوید: "پویانمایی می تواند هر آنچه را که ذهن انسان تصور می‌کند، توضیح دهد"

وقتی می‌گوییم جسمی را پویا کردیم، یعنی به آن جان بخشیدیم.
زمانی که یک فیلم پویانمایی شده را در تلوزیون یا سینما می‌بینید، شخصیت‌های درون آن فیلم در حالت حرکت هستند.
این حرکت معمولا صاف و به هم پیوسته است. نوارهای حاوی فیلم متشکل از دنباله‌ای از تصاویر هستند که به عنوان "فریم" شناخته می‌شوند و درواقع با پخش شدن این فریم‌ها
به صورت متوالی، توهم ایجاد حرکت به مخاطب ابراز می‌شود.

پویانمایی از گذشته تا امروز تغییرات فراوانی را دیده است.
در پویانمایی سنتی، تصاویر به وسیله‌‌ی دست روی صفحات سلولوئیدی شفاف ترسیم یا نقاشی شده 
سپس از آن‌ها عکس گرفته و روی فیلم نمایش داده می‌شدند.
امروزه اکثر پویانمایی‌ها با تصاویر کامپیوتری
\LTRfootnote{CGI}
ساخته می‌شوند.
\cite{AnimationWikipedia}
علاوه بر این، دامنه‌ی استفاده از این پویانمایی نیز دستخوش بسیاری تغییرات شده‌است.
در گذشته پویانمایی را می‌توانستیم در فیلم‌های پویانمایی شده یا کارتون‌ها مشاهده کنیم.
اما اکنون با پیشرفت تکنولوژی، پویانمایی نقش بسیار اساسی‌ای در بازی‌های کامپیوتری پیدا کرده است.
هدف بازی‌‌های کامپیوتری، به خصوص بازی‌های کامپیوتری داستان محور، غوطه‌ور کردن بازیکن 
در داستان است.
همانطور که اشاره شد پویانمایی هنر جان بخشیدن به اجسام است و به وسیله‌ی 
آن است که می‌توانیم احساسات و اعمال شخصیت بازی را به بازیکن منتقل کنیم.

بازی‌های کامپیوتری به صورت معمول توسط موتور‌های بازی‌سازی ساخته می‌شوند.
اگر بخواهیم تعریفی برای موتور بازی‌سازی آوریم می‌توان گفت 
آن‌ها پلتفرم‌هایی هستند که ساخت بازی‌های رایانه‌ای را آسان‌تر می‌کنند.
موتور‌های بازی‌سازی متشکل از مولفه‌های مختلفی هستند که قابلیت‌های لازم برای ساخت بازی را فراهم می‌کنند.
از رایج‌ترین مولفه‌های موتور بازی می‌توان به مولفه‌ی صدا، مولفه‌ی رندر، مولفه‌ی هوش مصنوعی و مولفه‌ی انیمیشن اشاره کرد.
\cite{barczak2019comparative}

هدف اصلی این پروژه آشنایی با روش‌های استفاده شده در محیط‌های گرافیکی مانند موتورهای بازی‌سازی با تاکید بیشتر بر 
روی سیستم‌های پویانمایی به کار رفته در این محیط‌ها است.

به همین جهت این پروژه به دو صورت این هدف را دنبال می‌کند.
جهت آشناشدن با یک موتور بازی‌سازی و نحوه‌ی پیاده‌سازی سیستم پویانمایی آن، موتور 
بازی‌سازی آنریل انتخاب شده است.
آنریل یکی از معروف ترین موتور‌های بازی‌سازی در جهان است که اولین نسل آن
توسط تیم سوینی، بنیانگذار اپیک گیمز 
\LTRfootnote{Epic Games}
، توسعه یافت.
آخرین نسخه‌ی این موتور به اسم موتور بازی‌سازی آنریل 5 
در سال 2020 معرفی و در سال 2022 انتشار یافت.
سیستم پویانمایی این موتور بسیار وسیع است. به همین دلیل بخش کوچکی از این سیستم که گراف پویانمایی نام دارد، انتخاب شده و
 به بررسی ساختار و نحوه‌ی استفاده از این گراف می‌پردازیم.

پس از بدست آوردن تجربه‌ی اولیه از گراف انیمیشن برای آشنایی کامل تر 
با محیط گرافیکی و همچنین سیستم پویانمایی به پیاده‌سازی یک سیستم پویانمایی با استفاده از 
\lr{OpenGL}
پرداختیم.
\lr{OpenGL}
یک واسط برنامه نویسی کاربردی
\LTRfootnote{API}
است که با فراهم کردن توابع مختلف به توسعه‌دهندگان امکان دستکاری گرافیک و تصاویر را می ‌دهد.
با استفاده از این 
\lr{API}
می‌توان آشنایی خوبی در مورد گرافیک کامپیوتری و به صورت کلی محیط‌های گرافیکی بدست آورد.
برای محیط سه‌بعدی پیاده‌سازی شده از روش 
\lr{Phong Shading}
برای نورپردازی محیط استفاده شده است. این روش یکی از معروف ترین روش‌های نورپردازی در محیط‌های سه‌بعدی بلادرنگ به‌خصوص بازی‌های کامپیوتری است. علاوه بر تولید صحنه‌ی سه‌بعدی،
برای بدست آوردن آشنایی کامل با سیستم‌های پویانمایی که دربازی‌ها استفاده می‌شوند، به پیاده‌سازی یک نمونه از آن پرداختیم.
در این پیاده‌سازی سیستم پویانمایی به چند بخش کلی تقسیم شده است که هر کدام هدف‌های مختلفی را دنبال می‌کند.
برای اینکه یک سیستم پویانمایی داشته باشیم در ابتدا به یک شخصیتی نیاز داریم 
تا کلیپ‌های پویانمایی بر روی آن اجرا شود.
شخصیت‌ها در این پیاده‌سازی توسط کتابخانه‌ی 
\lr{Assimp}
در ساختمان داده‌های مناسب ذخیره می‌شود.
هر شخصیت در این پیاده‌سازی به دو قسمت کلی مش و اسکلت تقسیم می‌شود.
یکی از وظایف مهم این پیاده‌سازی، اتصال این دو قسمت به یکدگیر 
است.
این اتصال به صورت کلی به اسم 
\lr{Skinning}
نام دارد. 
مرحله‌ی بعدی پیاده‌سازی به پخش کلیپ‌های پویانمایی بر روی این شخصیت می‌پردازد.
درنهایت از ماشین حالت متناهی برای برای ترکیب کلیپ‌های پویانمایی متفاوت با یکدیگر استفاده شده است.

خروجی این پروژه یک تحقیق در مورد سیستم گراف پویانمایی آنریل به همراه 
یک نرم‌افزار گرافیکی سیستم انیمیشن است.

در فصل‌های آتی به بررسی این موارد گفته‌شده پرداخته می‌شود.
ابتدا در فصل دوم یک مروری بر تاریخچه‌ی انیمیشن‌ها می‌شود. سپس توضیحاتی درباره‌ی موتور بازی‌سازی و 
موتور بازی‌سازی آنریل داده می‌شود و درنهایت توضیحاتی کلی 
درباره‌ی روش‌های نورپردازی محیط و پویانمایی اسکلتونی که به وفور در موتور‌های بازی‌سازی استفاده می‌شود داده می‌شود.

در فصل سوم به بررسی موتور بازی‌سازی آنریل با تاکید بر روی گراف پویانمایی می‌پردازیم و نحوه‌ی استفاده از آن را بررسی می‌کنیم.

در نهایت در فصل چهارم توضیحاتی درباره‌ی نحوه‌ی پیاده‌سازی سیستم پویانمایی
به همراه توضیحات سیستم‌های موجود در این پیاده‌سازی می‌پردازیم.

در فصل "نتیجه‌گیری"، یک نتیجه‌گیری کلی از خروجی‌های این پروژه ارائه کرده 
و در فصل "کارهای آینده"، به بررسی مشکلاتی که می‌تواند در پیاده‌سازی برطرف شود به همراه 
پیشنهاداتی برای ادامه‌ی این پروژه پرداخته می‌شود.



پویانمایی تاریخچه‌ای غنی‌ دارد. در این فصل ابتدا به بررسی این تاریخچه با توضیحاتی 
درباره‌ی پویانمایی سنتی و پس از آن پویانمایی کامپیوتری پرداخته می‌شود.
پس از آن به بررسی روش‌های کلی که توسط هنرمندان برای ایجاد پویانمایی به‌کارگرفته می‌شوند پرداخته می‌شود.
در نهایت به بررسی به کارگرفتن این انیمیشن‌ها در موتورهای بازی سازی پرداخته می‌شود.

